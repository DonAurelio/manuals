# Add Data to the Datacube

Adding data (images) to the datacbe consists of telling the datacube where we have images in our file system. Then, it will be able to obtain information about the images including its location to create search indexes in the database and facilitate subsequent queries.

## Selecting Scenes

Landsat satellites collect pictures of earth called scenes. Colombia is covered by aproximately 86 scenes of landsat as depicted bellow. The yellow squares represent the scenes and red squares are called tiles.

![alt text](https://raw.githubusercontent.com/DonAurelio/manuals/master/open-datacube/img/colombia_scenes.png)

Each yellow square is labeled using the **path-row** notation. This notation allow user reference any landsat scene specifiying the PATH and ROW numbers. We can obtain scenes based on this notation using the [EarthExplorer](https://earthexplorer.usgs.gov/), this viewer require you to be registered. We will request scenes from 01/01/2016 to 12/31/2018 for the PATH=5 and ROW=57. This scene cover the part of Vichada Deparment in Colombia. 

![alt text](https://raw.githubusercontent.com/DonAurelio/manuals/master/open-datacube/img/ee_1.png)


The next step is the selection of the Scene Collection (Dataset). We will use the Landsat Collection 1 - Level-2. Each level of the landsat collection peform some image correction inteded for different analysis. In particular, Level-2 performs Surface Reflectance Correction to mitigate atmospheric effects over images (scenes). Further information about Landsat Collection Levels can be found in [3].

![alt text](https://raw.githubusercontent.com/DonAurelio/manuals/master/open-datacube/img/ee_2.png)

After the Landsat Collection seleciton, we will get the scenes that match the criteria specified before. We have to select each scene we are interested in. Then, use the button "View Item Basket" to submit the scenes order. This order will take several minutes since this images are preprocessed (image correction) on-demand. 

![alt text](https://raw.githubusercontent.com/DonAurelio/manuals/master/open-datacube/img/ee_3.png)

You will receive and email on which a link may be available to track the status of your order. Once the order is completed the images can be downloaded on your computer.

![alt text](https://raw.githubusercontent.com/DonAurelio/manuals/master/open-datacube/img/ee_4.png)

## Scene Data



## Product Creation

The datacube needs to know about the properies of the images that are produced for every satellite we are interested in. As every satellite takes different **measuremets**, then every image will have different data. Finally the datacube needs to care about organize data of images from the same satellite together. To organize data of the same satellite in the datacube we will create a **product**. To do this we need a *Product Definition File*.

LC08_L1TP_005057_20181209_20181226_01_T1



# References

1. [The Worldwide Reference System](https://landsat.gsfc.nasa.gov/the-worldwide-reference-system/)
2. [Cuadrícula Landsat para Colombia](https://www.arcgis.com/home/webmap/viewer.html?webmap=6e2a67d6808c4752afc1a9080ae42390)
3. [Landsat Science Products - Collection Levels](https://www.usgs.gov/land-resources/nli/landsat/landsat-science-products)
4. [Landsat Surface Reflectance](https://www.usgs.gov/land-resources/nli/landsat/landsat-surface-reflectance?qt-science_support_page_related_con=0#qt-science_support_page_related_con)
5. [USGS EROS Archive - Landsat Archives - Landsat 8 OLI/TIRS Level-2 Data Products - Surface Reflectance](https://www.usgs.gov/centers/eros/science/usgs-eros-archive-landsat-archives-landsat-8-olitirs-level-2-data-products?qt-science_center_objects=0#qt-science_center_objects)
6. [Landsat File Naming Convention – Scene Identifiers](https://gisgeography.com/landsat-file-naming-convention/)
7. [Pre collection identifier](https://landsat.usgs.gov/sites/default/files/images/Scene_ProductID_compare-.jpg)
8. [Google Earth Engine, Landsat collection structure](https://developers.google.com/earth-engine/landsat)
9. [What is the naming convention for Landsat Collections Level-1 scenes?](https://www.usgs.gov/faqs/what-naming-convention-landsat-collections-level-1-scenes?qt-news_science_products=0#qt-news_science_products)